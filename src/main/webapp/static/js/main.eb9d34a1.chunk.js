(this.webpackJsonpdiplomportal=this.webpackJsonpdiplomportal||[]).push([[0],{158:function(e,t,n){},196:function(e,t,n){e.exports=n(473)},201:function(e,t,n){},473:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),s=n.n(o),l=n(7),i=n(8),c=n(10),u=n(9),d=n(11),m=(n(201),n(493)),h=n(474),p=n(475),g=n(492),f=n(476),E=n(490),v=n(477),k=n(478),y=n(479),C=n(480),b=n(494),S=n(91),O=n(192),A=function e(){Object(l.a)(this,e)};A.ApiPath="",A.campusNetServiceUrl="/rest/cn/login",A.TOKEN_NAME="portal-jwt-Token";var j=n(67),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).sortEnd=function(e){var t=e.oldIndex,a=e.newIndex;console.log("Move from:"+t+" to: "+a),n.props.onLinksUpdated(Object(j.arrayMove)(n.props.links,t,a))},n.handlenewLinkClicked=function(){n.setState({showModal:!0})},n.handlesubmitLink=function(e){e.preventDefault();var t=n.props.links;t.push({text:n.state.textInput,href:n.state.hrefInput}),n.setState({showModal:!1,textInput:"",hrefInput:"http://"}),n.props.onLinksUpdated(t)},n.handleLinkRemove=function(e){console.log(e);var t=n.props.links;t=t.filter((function(t){return console.log(t),!(t.text===e.text&&t.href===e.href)})),n.props.onLinksUpdated(t)},n.handleAvatarClick=function(e){if(n.props.avatar.id).1===e?n.props.onLogout():(console.log("editing profile"),n.props.onProfileEdit());else{var t=A.ApiPath?A.ApiPath+A.campusNetServiceUrl:A.campusNetServiceUrl;window.location.replace(t)}},n.handleNavSelect=function(e){n.setState({active:e}),console.log("TopMenu Selection:"),console.log(e),n.props.onSelect(e)},n.getUserMenu=function(e){return n.props.avatar.id?r.a.createElement(m.a,{id:"avatarDropDown",eventKey:0,title:n.props.avatar.id},r.a.createElement(h.a,{id:"avatarLogout",eventKey:.1},"Logout"),r.a.createElement(h.a,{id:"editProfile",eventKey:.2},"Profil")):r.a.createElement(h.a,null,"Login")},n.getNavContent=function(){return n.props.menuItems.map((function(e,t){if("NavText"===e.type)return r.a.createElement(h.a,{key:e.id,eventKey:e.id});if("NavItem"===e.type)return r.a.createElement(h.a,{key:t,eventKey:e.id,active:n.state.active.component===e.id.component},e.text);if("NavDropDown"===e.type){e.items=e.items.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}));var a=e.items.map((function(e,t){return r.a.createElement(p.a,{key:t,eventKey:e.id},e.text)}));return r.a.createElement(m.a,{key:e.id,id:e.id,title:e.text},a)}return"Avatar"===e.type?r.a.createElement(h.a,{pullRight:!0},"Avatar"):r.a.createElement(r.a.Fragment,null)}))},n.getLinkContent=function(){if(n.props.links)return n.props.links.map((function(e){return r.a.createElement(h.a,{style:Be.a,key:e.href,onClick:function(t){t.preventDefault(),window.open(e.href)}},e.text)}))},n.isAdmin=function(){return!!(n.props.user&&n.props.course&&n.props.course.admins)&&n.props.course.admins.includes(n.props.user.id)},n.state={active:e.activeId,showModal:!1,hrefInput:"http://",textInput:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;console.log(this.isAdmin());var t=!!this.props.user;return r.a.createElement("div",{className:"NavbarContainer"},r.a.createElement(g.a,{className:"navbar-fixed-top",fluid:!0},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Toggle,null)),r.a.createElement(g.a.Collapse,null,r.a.createElement(f.a,{onSelect:this.handleNavSelect},this.getNavContent(),t&&(this.isAdmin()?r.a.createElement(L,{helperClass:"sortableHelper",useWindowAsScrollContainer:!0,useDragHandle:!0,items:this.props.links?this.props.links:[],onSortEnd:this.sortEnd,newLink:this.handlenewLinkClicked,removeLink:this.handleLinkRemove}):r.a.createElement(m.a,{id:"Links",title:"Links"},this.getLinkContent()))),r.a.createElement(f.a,{onSelect:this.handleAvatarClick,pullRight:!0},this.getUserMenu()))),r.a.createElement(E.a,{bsSize:"sm",show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement("h4",null,"Nyt Link")),r.a.createElement(E.a.Body,null,r.a.createElement(v.a,{horizontal:!0},r.a.createElement(k.a,{controlId:"formHorizontalEmail"},r.a.createElement(y.a,{componentClass:C.a,sm:4},"Tekst"),r.a.createElement(y.a,{sm:6},r.a.createElement(b.a,{type:"text",placeholder:"tekst",value:this.state.textInput,onChange:function(t){return e.setState({textInput:t.target.value})}}))),r.a.createElement(k.a,{controlId:"formHorizontalPassword"},r.a.createElement(y.a,{componentClass:C.a,sm:4},"Url"),r.a.createElement(y.a,{sm:6},r.a.createElement(b.a,{type:"url",placeholder:"http://",value:this.state.hrefInput,onChange:function(t){return e.setState({hrefInput:t.target.value})}}))),r.a.createElement(k.a,null,r.a.createElement(y.a,{smOffset:2,sm:10},r.a.createElement(S.a,{type:"submit",onClick:this.handlesubmitLink},"Gem link")))))))}}]),t}(a.Component),N=Object(j.SortableHandle)((function(){return r.a.createElement("span",null,r.a.createElement(O.a,{glyph:"resize-vertical"}))})),x=Object(j.SortableElement)((function(e){var t=e.value,n=e.removeLink;return r.a.createElement(h.a,{href:t.href,onClick:function(e){e.preventDefault(),window.open(t.href)}},r.a.createElement(N,null),t.text," ",r.a.createElement(O.a,{value:t.href,glyph:"remove",onClick:function(e){e.stopPropagation(),n(t)}}))})),L=Object(j.SortableContainer)((function(e){var t=e.items,n=e.newLink,a=e.removeLink;return r.a.createElement(m.a,{title:"Links",id:"Links"},t.map((function(e,t){return r.a.createElement(x,{key:e.href,index:t,value:e,removeLink:function(e){return a(e)}})})),r.a.createElement(h.a,{onClick:n},r.a.createElement(O.a,{glyph:"plus"})," nyt link"))})),P=n(191),U=n(484),I=n(483),T=n(495),D=n(481),B=n(482),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleActivityElementClick=function(e){n.props.handleActivityElementClick(e,n.props.activityElement)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"Text"!==this.props.activityElement.activityElementType?this.linkElement():r.a.createElement("td",{className:"td-wrap"},this.props.activityElement.title)}},{key:"linkElement",value:function(){var e=this,t=(100*Number(this.props.activityElement.progress)).toFixed(0);t=+t||0;var n=this.props.activityElement.subElements.length>0;return r.a.createElement("td",{className:"td-wrap"},r.a.createElement("div",{style:Be.a,target:"_blank",onClick:function(t){return e.handleActivityElementClick(t)},id:this.props.activityElement.id},this.props.activityElement.title," "),n&&r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Viser hvor stor en del af materialet du har l\xe6st")},r.a.createElement(B.a,{bsStyle:t>=100?"success":"info",now:t,label:r.a.createElement("span",{style:{color:"black"}},t,"%")})))}}]),t}(a.Component),F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleActivityElementClick=function(e,t){n.props.handleActivityElementClick(n.props.activity,t)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getActivityElements",value:function(){var e=this;return this.props.activity.activityElementList.map((function(t,n){return r.a.createElement(M,{key:n,activityElement:t,handleActivityElementClick:e.handleActivityElementClick})}))}},{key:"checkIfDone",value:function(){var e=!0;return this.props.activity.activityElementList.forEach((function(t){t.subElements&&t.subElements.length>0&&t.progress<1&&(e=!1)})),e}},{key:"render",value:function(){var e=new Date(this.props.activity.endDate),t="";this.props.activity.endDate&&(t=e.getDate(),t+="/"+(e.getMonth()+1),0===e.getUTCHours()&&0===e.getUTCMinutes()||(t+=" "+e.getUTCHours(),t+=":"+(1===e.getUTCMinutes().toString().length?"0":""),t+=e.getUTCMinutes()));var n="";return this.checkIfDone()?n+="success ":e>0&&e<new Date&&(n+="warning"),"DRAFT"===this.props.activity.status&&(n+="text-muted "),r.a.createElement("tr",{className:n},r.a.createElement("td",{className:"td-med"},this.props.activity.title),r.a.createElement("td",{className:"td-wrap td-wide"},this.props.activity.description),r.a.createElement("td",null,t),this.getActivityElements())}}]),t}(a.Component),H=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleActivityElementClick=function(e,t){n.props.handleActivityElementClick(e,t)},n.state={coursePlan:{courseActivityList:[{activityElementList:[]}]},loading:"done"},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getHeaderLine",value:function(){if(null!==this.props.coursePlan.headers)return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.coursePlan.headers.map((function(e,t){return r.a.createElement("th",{key:t},e)}))));var e=this.props.coursePlan.courseActivityList[0].activityElementList.length;return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Aktivitet"),r.a.createElement("th",null,"Emner"),r.a.createElement("th",null,"Tid"),r.a.createElement("th",{colSpan:e},"Materiale")))}},{key:"getActivities",value:function(){var e=this;return this.props.coursePlan.courseActivityList.map((function(t,n){return r.a.createElement(F,{key:n,activity:t,handleActivityElementClick:e.handleActivityElementClick})}))}},{key:"render",value:function(){return this.props.coursePlan&&this.props.coursePlan.headers?r.a.createElement(I.a,{hover:!0},this.getHeaderLine(),r.a.createElement("tbody",null,this.getActivities())):r.a.createElement(I.a,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null))))}}]),t}(a.Component);H.defaultProps={};var R=n(49),G=n.n(R),K=n(122),J=n(486),z=n(487),V=n(23),W=n.n(V),_=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlecheck=function(e){console.log("ChekingBox: "+!n.props.checked),n.props.onCheck(!n.props.checked,n.props.id)},n.state={uuid:Math.floor(1e9*Math.random())},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("input",{id:this.state.uuid,type:"checkbox",checked:this.props.checked,onChange:this.handlecheck}),r.a.createElement("label",{htmlFor:this.state.uuid}," "))}}]),t}(a.Component);_.defaultProps={checked:!1,onCheck:function(){console.log("CheckboxComp: onCheck not set")}};var $=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(e.target.value,n.props.textBoxId)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement("h4",{className:"list-group-item-heading"},r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Afkryds elementet for at markere at det er l\xe6st/l\xf8st")},r.a.createElement("span",null,r.a.createElement(_,{id:this.props.checkBoxId,checked:this.props.checked,onCheck:this.props.onCheck}))),this.props.header),r.a.createElement(P.a,{fluid:!0},r.a.createElement(U.a,null,r.a.createElement(y.a,{sm:8},this.props.text),r.a.createElement(y.a,{sm:4},r.a.createElement("h5",null,r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Tag noter - noterne gemmes automatisk")},r.a.createElement("span",null,r.a.createElement(O.a,{glyph:"pencil"}),r.a.createElement("b",null,"Noter")))),r.a.createElement(W.a,{style:{borderWidth:1,borderStyle:"solid",borderColor:"lightgrey"},html:this.props.notes,onChange:this.handleChange})))))}}]),t}(a.Component),Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).itemClicked=function(){window.open(n.props.link)},n.handleChange=function(e){n.props.onChange(e.target.value,n.props.textBoxId)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(),r.a.createElement(K.a,null,r.a.createElement("h4",null,r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Afkryds elementet for at markere at det er l\xe6st/l\xf8st")},r.a.createElement("span",null,r.a.createElement(_,{id:this.props.checkBoxId,checked:this.props.checked,onCheck:this.props.onCheck}))),r.a.createElement("div",{style:Be.a,onClick:this.itemClicked},this.props.header," ",r.a.createElement(O.a,{glyph:"new-window"}))),r.a.createElement(P.a,{fluid:!0},r.a.createElement(y.a,{sm:8,style:{}}),r.a.createElement(y.a,{sm:4},r.a.createElement("h5",null,r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Tag noter - noterne gemmes automatisk")},r.a.createElement("span",null,r.a.createElement(O.a,{glyph:"pencil"}),r.a.createElement("b",null,"Noter")))),r.a.createElement(W.a,{style:{borderWidth:1,borderStyle:"solid",borderColor:"lightgrey"},html:this.props.notes,onChange:this.handleChange}))))}}]),t}(a.Component),X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(e.target.value,n.props.textBoxId)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement("h4",{className:"list-group-item-heading"},r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Afkryds elementet for at markere at det er l\xe6st/l\xf8st")},r.a.createElement("span",null,r.a.createElement(_,{id:this.props.checkBoxId,onCheck:this.props.onCheck,checked:this.props.checked}))),this.props.title," ",r.a.createElement("div",{style:Be.a,href:this.props.link,target:"_blank"},r.a.createElement("span",{style:{fontSize:"50%"}},"klik for at \xe5bne i et nyt vindue")," ",r.a.createElement(O.a,{glyph:"new-window"}))),r.a.createElement(P.a,{fluid:!0,style:{minHeight:"400px"}},r.a.createElement(y.a,{sm:8,style:{}},r.a.createElement("iframe",{title:this.props.link,style:{minHeight:"400px",float:"left",width:"100%"},seamless:"seamless",frameBorder:0,src:this.props.link})),r.a.createElement(y.a,{sm:4},r.a.createElement("h5",null,r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Tag noter - noterne gemmes automatisk")},r.a.createElement("span",null,r.a.createElement(O.a,{glyph:"pencil"}),r.a.createElement("b",null,"Noter")))),r.a.createElement(W.a,{style:{borderWidth:1,borderStyle:"solid",borderColor:"lightgrey"},html:this.props.notes,onChange:this.handleChange}))))}}]),t}(a.Component),Y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement("h4",null,r.a.createElement("input",{id:"check"+this.props.checkBoxId,type:"checkbox",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"check"+this.props.checkBoxId}," "),"Quiz"),r.a.createElement(P.a,{fluid:!0},r.a.createElement(U.a,null,r.a.createElement(y.a,{sm:8},this.props.text),r.a.createElement(y.a,{sm:4},r.a.createElement("h4",null,"Noter"),r.a.createElement(W.a,null)))))}}]),t}(a.Component),q=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement("h4",null,r.a.createElement("input",{id:"check"+this.props.checkBoxId,type:"checkbox",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"check"+this.props.checkBoxId}," "),"ConceptQuestion"),r.a.createElement(P.a,{fluid:!0},r.a.createElement(U.a,null,r.a.createElement(y.a,{sm:8},this.props.text),r.a.createElement(y.a,{sm:4},r.a.createElement("h5",null,r.a.createElement(O.a,{glyph:"pencil"}),r.a.createElement("b",null,"Noter")),r.a.createElement(W.a,null)))))}}]),t}(a.Component),Z=(n(158),n(123)),ee=n(194),te=n.n(ee),ne=(n(389),n(390),n(391),n(392),n(190)),ae=n(485),re=n(491),oe=n(68),se=n.n(oe),le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleCodeChange=function(e){var t=e.target.value,a=n.state.activeFile,r=se()(n.state,{files:Object(Z.a)({},a,{fileContents:{$set:t}})});n.setState(r)},n.handleAceEditorChange=function(e){var t=n.state.activeFile,a=se()(n.state,{files:Object(Z.a)({},t,{fileContents:{$set:e}})});n.setState(a)},n.handleRunClick=function(e){var t={mainClass:n.state.mainClass,files:n.state.files,input:n.state.input},a=JSON.stringify(t),r=se()(n.state,{compiling:{$set:!0},systemOut:{$set:[]},systemErr:{$set:[]}});n.setState(r),fetch("https://javacompile.herokuapp.com",{method:"POST",mode:"cors",body:a,headers:new Headers({"Content-type":"application/json"})}).then((function(e){e.json().then((function(e){console.log(e);var t=e.runResult;t||(t={systemOut:["Compilation Failed"],systemErr:["Compile Error"]});var a=se()(n.state,{compiling:{$set:!1},systemOut:{$set:t.systemOut},systemErr:{$set:t.systemErr}});n.setState(a)}))}))},n.getSystemOut=function(){return n.mapLines(n.state.systemOut)},n.getSystemErr=function(){return n.mapLines(n.state.systemErr)},n.mapLines=function(e){return null==e?"":e.map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}))},n.state={mainClass:"Main",files:[{fileName:"Main.java",fileContents:e.code}],input:[],activeFile:0,systemOut:[],systemErr:[],compiling:!1,annotations:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Kode-Editor"),r.a.createElement(te.a,{mode:"java",theme:"eclipse",name:"testBox",height:"15em",value:this.state.files[this.state.activeFile].fileContents,onChange:this.handleAceEditorChange,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},annotations:this.state.annotations}),r.a.createElement(ne.a,null,r.a.createElement(S.a,{onClick:this.handleRunClick,className:this.state.compiling?"disabled":""},this.state.compiling?"Running Code...":"Run Code!")),r.a.createElement(ae.a,null,r.a.createElement(re.a,{header:"System.Out",style:{height:200,overflowY:"scroll",fontFamily:"monospace"}},this.getSystemOut()),r.a.createElement(re.a,{header:"System.Err",style:{height:200,overflowY:"scroll",color:"red",fontFamily:"monospace"}},this.getSystemErr())))}}]),t}(a.Component),ie=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(e.target.value,n.props.textBoxId)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement("h4",{className:"list-group-item-heading"},r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Afkryds elementet for at markere at det er l\xe6st/l\xf8st")},r.a.createElement("span",null,r.a.createElement(_,{id:this.props.checkBoxId,checked:this.props.checked,onCheck:this.props.onCheck}))),this.props.header),r.a.createElement(P.a,{fluid:!0},r.a.createElement(U.a,null,r.a.createElement(y.a,{sm:8},r.a.createElement(le,{code:this.props.code,compileUrl:this.props.compileUrl})),r.a.createElement(y.a,{sm:4},r.a.createElement("h5",null,r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Tag noter - noterne gemmes automatisk")},r.a.createElement("span",null,r.a.createElement(O.a,{glyph:"pencil"}),r.a.createElement("b",null,"Noter")))),r.a.createElement(W.a,{style:{borderWidth:1,borderStyle:"solid",borderColor:"lightgrey"},html:this.props.notes,onChange:this.handleChange})))))}}]),t}(a.Component),ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getSubElementBoxes=function(){if(n.props.subElements)return n.props.subElements.map((function(e,t){return"Text"===e.subElementType?r.a.createElement($,{key:t,header:e.title,text:e.content,checkBoxId:e.id,onCheck:n.handleCheck,checked:e.checked,textBoxId:e.id,onChange:n.handleTextBoxChange,notes:e.notes}):"Pop_Out_Link"===e.subElementType?r.a.createElement(Q,{key:t,checkBoxId:e.id,checked:e.checked,onCheck:n.handleCheck,header:e.title,link:e.hyperLink,textBoxId:e.id,onChange:n.handleTextBoxChange,notes:e.notes}):"Code"===e.subElementType?r.a.createElement(ie,{key:t,checkBoxId:e.id,checked:e.checked,onCheck:n.handleCheck,header:e.title,code:e.content,textBoxId:e.id,onChange:n.handleTextBoxChange,notes:e.notes}):"Embedded_Link"===e.subElementType?r.a.createElement(X,{key:t,title:e.title,checkBoxId:e.id,checked:e.checked,onCheck:n.handleCheck,link:e.hyperLink,textBoxId:e.id,onChange:n.handleTextBoxChange,notes:e.notes}):"Concept_Question"===e.subElementType?r.a.createElement(q,{checkBoxId:e.id}):"Quiz"===e.subElementType?r.a.createElement(Y,{checkBoxId:e.id}):r.a.createElement(K.a,{key:t,header:e.title},"Coming Sooon!")}))},n.getMenuElements=function(){if(n.props.subElements)return n.props.subElements.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,"Afkryds elementet for at markere at det er l\xe6st/l\xf8st")},r.a.createElement("span",null,r.a.createElement(_,{id:e.id,checked:e.checked,onCheck:function(e,t){return n.handleCheck(e,t)}}))),e.title)}))},n.scrollToTop=function(){window.scrollTo(0,0)},n.hideModal=function(){n.props.hideModal()},n.handleCheck=function(e,t){n.props.handleSubElementCheck(e,t)},n.handleTextBoxChange=function(e,t){n.props.handleNotes(e,t)},n.calculateProgress=function(){var e=0;return n.props.subElements&&Array.isArray(n.props.subElements)?(n.props.subElements.forEach((function(t){!0===t.checked&&e++})),(e/n.props.subElements.length*100).toFixed(0)):1},n.state={html:"noter"},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.calculateProgress();return r.a.createElement(E.a,{bsSize:"large",dialogClassName:"custom-modal",show:this.props.showModal,onHide:this.hideModal,contentLabel:""},r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement("h3",{style:{margin:-5}},this.props.title)),r.a.createElement(E.a.Body,null,r.a.createElement(U.a,null,r.a.createElement(y.a,{md:3,sm:4},r.a.createElement(J.a,{style:{cursor:"pointer",paddingLeft:0,paddingRight:0}},r.a.createElement("ul",null,this.getMenuElements()),r.a.createElement(T.a,{placement:"bottom",overlay:r.a.createElement(D.a,{id:this.props.id},"Viser hvor stor en del af materialet du har l\xe6st")},r.a.createElement(B.a,{bsStyle:e>=100?"success":"info",now:e,label:r.a.createElement("span",{style:{color:"black"}},e,"%")})))),r.a.createElement(y.a,{md:9,sm:8},r.a.createElement("div",{className:"scroll-div"},r.a.createElement(z.a,null,this.getSubElementBoxes()))))))}}]),t}(a.Component),ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleActivityClick=function(e,t){n.props.handleActivityClick(e,t)},n.hideModal=function(e){n.props.hideModal()},n.handleSubElementCheck=function(e,t){n.props.handleSubElementCheck(e,n.props.activeActivityId,n.props.activeActivityElementId,t)},n.handleNotes=function(e,t){n.props.handleSubElementNotes(e,n.props.activeActivityId,n.props.activeActivityElementId,t)},n.state={showModal:!1,linksUrl:n.props.apiUrl+n.props.linksPath,activityElementUrl:n.props.apiUrl+n.props.activityElementsPath,activitySubElements:[],activeActivityElement:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,!0===this.props.coursePlanLoading&&r.a.createElement("div",null,"Loading courseplan... ",r.a.createElement("img",{src:G.a,alt:"..."})),"failed"===this.props.coursePlanLoading&&r.a.createElement("div",null,"Kursusplanen kunne ikke indl\xe6ses"),r.a.createElement(U.a,null,r.a.createElement(y.a,null,r.a.createElement(H,{coursePlan:this.props.coursePlan,handleActivityElementClick:this.handleActivityClick}))),r.a.createElement(ce,{hideModal:this.hideModal,showModal:this.props.showModal,className:"scroll-div",ref:"activityContainer",title:this.props.activeActivityElement,handleSubElementCheck:this.handleSubElementCheck,handleNotes:this.handleNotes,subElements:this.props.activitySubElements}))}}]),t}(a.Component);ue.defaultProps={apiUrl:"",user:null,linksPath:"/links",courseplansPath:"/courseplans",activityElementsPath:"/activityelements",googlepath:"/google",generalLinksTitle:"F\xe6lles links",courseLinksTitle:"Kursus links"};var de=function e(){Object(l.a)(this,e)};de.getUser=function(){var e=de.getToken();if(console.log(e),e){var t=e.split(".")[1],n=decodeURIComponent(encodeURI(window.atob(t))),a=JSON.parse(n);return console.log("found claims:"),console.log(a),a.user}return null},de.getToken=function(){return localStorage.getItem(A.TOKEN_NAME)},de.setToken=function(e){localStorage.setItem(A.TOKEN_NAME,e)},de.clearUser=function(){localStorage.removeItem(A.TOKEN_NAME)};var me=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).cnLogin=function(){var e=A.ApiPath?A.ApiPath+A.campusNetServiceUrl:A.campusNetServiceUrl;window.location.replace(e)},n.state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(U.a,null,r.a.createElement(y.a,{xsOffset:3,xs:6,className:"text-center"},r.a.createElement(S.a,{bsStyle:"primary",onClick:this.cnLogin}," Login with campusNet"))))}}]),t}(a.Component),he=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateLine=function(e,t){console.log(e.target.value),console.log(t);var a=n.state.content;a[t]={title:n.state.content[t].title,content:e.target.value},console.log(a),n.setState({content:a})},n.updateTitle=function(e,t){var a=n.state.content;a[t]={title:e.target.value,content:n.state.content[t].content},n.setState({content:a})},n.addLine=function(){var e=n.state.content;e.push({title:"titel",content:"indhold"}),n.setState({conent:e})},n.deleteLine=function(e){var t=n.state.content;console.log("index"+e),console.log(t),t.splice(e,1),console.log(t),n.setState({content:t})},n.cancelChange=function(){n.setState({content:JSON.parse(JSON.stringify(n.props.content))})},n.saveLines=function(){n.props.saveContent(n.state.content)},n.isAdmin=function(){return!!(n.props.user&&n.props.course&&n.props.course.admins)&&n.props.course.admins.includes(n.props.user.id)},n.generateEditableList=function(){return r.a.createElement("dl",{className:"dl-horizontal"},n.state.content.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement("dt",null,r.a.createElement("div",{style:Be.a,onClick:function(){return n.deleteLine(t)}},r.a.createElement(O.a,{glyph:"remove",style:{float:"left"}})),r.a.createElement(W.a,{style:{float:"right"},id:t,html:e.title,onChange:function(e){return n.updateTitle(e,t)}})),r.a.createElement("dd",null,r.a.createElement(W.a,{id:t,html:e.content,onChange:function(e){return n.updateLine(e,t)}})," "))})),r.a.createElement("div",{style:Be.a}," ",r.a.createElement(O.a,{glyph:"plus"})))},n.generateList=function(){return r.a.createElement("dl",{className:"dl-horizontal"},n.state.content.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement("dt",null,e.title),r.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.content}}))})))};var a=e.content;return null!==a&&void 0!==a||(a=[]),a=JSON.parse(JSON.stringify(a)),n.state={content:a},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(J.a,null,r.a.createElement("h4",null,"Kursusinformation"),r.a.createElement("hr",null),this.isAdmin()?this.generateEditableList():this.generateList(),this.isAdmin()&&r.a.createElement("span",null,r.a.createElement(S.a,{bsStyle:"primary",onClick:this.saveLines},"Gem"),r.a.createElement(S.a,{onClick:this.cancelChange},"Annull\xe9r"))))}}]),t}(a.Component),pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," SyllabusPage - Coming soon")}}]),t}(a.Component),ge=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"ForumPage")}}]),t}(a.Component),fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleCourseSelection=function(e){n.props.courseClicked(e)},n.handleNewCourseClick=function(){n.props.newCourseClicked()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"generateCourseList",value:function(){var e=this;return!0===this.props.loading?r.a.createElement("img",{alt:"loading",src:G.a}):r.a.createElement("ul",null,this.props.courseList.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("div",{style:Be.a,onClick:function(){return e.handleCourseSelection(t.id)}},t.courseShortHand," - ",t.courseName))})))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement("div",{className:"panel-title"},"Kursus Administration"),r.a.createElement("div",{className:"panel-body"},this.generateCourseList(),this.props.createCourses&&r.a.createElement("div",{style:Be.a,onClick:this.handleNewCourseClick},r.a.createElement(O.a,{glyph:"plus"})," Nyt kursus"))))}}]),t}(a.Component);fe.defaultProps={courseList:[]};n(394);var Ee=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"deleteOwnDb",value:function(t,n,a,r){e.del(t+"/database/self",a,r)}},{key:"createOwnDb",value:function(t,n,a,r){e.post(t+"/database/self",a,r)}},{key:"updateOwnPass",value:function(t,n,a,r){e.post(t+"/database/self/pass",a,r)}}]),e}();Ee.getJson=function(e,t,n){console.log("Rip: Fetching from "+e);var a=de.getToken();fetch(e,{mode:"cors",method:"GET",headers:new Headers({"content-type":"application/json",authorization:"Bearer "+a})}).then((function(e){200!==e.status?n(e):Ee.handleJSON(e,t,n)})).catch((function(e){n({message:"Rip: Error while fetching: "+e.message,response:e})}))},Ee.getPlain=function(e,t,n){fetch(e,{mode:"cors",method:"GET"}).then((function(e){console.log("got response"),e.text().then((function(a){200!==e.status&&204!==e.status&&201!==e.status&&n({message:"Rip: Error while GET'ing: "+a,response:e}),t(a)}))})).catch((function(e){n({message:"Rip: Error while GET'ing "+e.message,response:e})}))},Ee.getNoCors=function(e){fetch(e,{mode:"no-cors",method:"GET"})},Ee.post=function(e,t,n,a){var r=de.getToken();fetch(e,{mode:"cors",method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-type":"application/json",authorization:"Bearer "+r})}).then((function(e){200!==e.status&&201!==e.status&&204!==e.status&&(403===e.status&&e.text().then((function(e){"Token too old!"===e&&alert("Dit login er udl\xf8bet - Du m\xe5 logge ind igen")})),a({message:"Rip: Error while POST'ing: "+e.message,response:e})),Ee.handleJSON(e,n,a)})).catch((function(e){a({message:"Rip: Error while POST'ing: "+e.message,response:e})}))},Ee.put=function(e,t,n,a){var r=de.getToken();fetch(e,{mode:"cors",method:"PUT",body:JSON.stringify(t),headers:new Headers({"Content-type":"application/json",authorization:"Bearer "+r})}).then((function(e){console.log(e.status),200!==e.status&&201!==e.status&&204!==e.status&&a({message:"Rip: Error while PUT'ing: "+e.message,response:e}),Ee.handleJSON(e,n,a)})).catch((function(e){console.log(e),a({message:"Rip: Error while PUT'ing: "+e.message,response:e})}))},Ee.postForString=function(e,t,n,a){var r=de.getToken();fetch(e,{mode:"cors",method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-type":"application/json",authorization:"Bearer "+r})}).then((function(e){200===e.status||204===e.status||201===e.status?n({message:"Rip: OK while POST'ing: "+e.message,response:e}):a({message:"Rip: Error while POST'ing: "+e.message,response:e})})).catch((function(e){a({message:"Rip: Error while POST'ing: "+e.message,response:e})}))},Ee.del=function(e,t,n){var a=de.getToken();fetch(e,{mode:"cors",method:"DELETE",headers:new Headers({"Content-type":"application/json",authorization:"Bearer "+a})}).then((function(e){200===e.status||204===e.status||201===e.status?t({message:"Rip: OK DELETING: "+e.message,response:e}):n({message:"Rip: Error while DELETING'ing: "+e.message,response:e})})).catch((function(e){n({message:"Rip: Error while POST'ing: "+e.message,response:e})}))},Ee.handleJSON=function(e,t,n){if(!e.ok){var a={message:"Rip: Response not ok "+e.error,response:e};console.log(a),n(a)}e.json().then((function(e){t(e)})).catch((function(t){var a={message:"Rip: error while parsing json: "+t,response:e};console.log(a),n(a)}))},Ee.getOwnDb=function(e,t,n,a){Ee.getJson(e+"/database/self",(function(e){n(e)}),a)};var ve=n(488),ke=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={editmode:!1,courseName:"",shortHand:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleGlyphClick",value:function(e){var t=!this.state.editmode;this.setState({editmode:t,courseName:this.props.courseName,shortHand:this.props.shortHand})}},{key:"handleGlyphOkClick",value:function(e){this.props.newInput(this.state.shortHand,this.state.courseName),this.setState({editmode:!1})}}]),Object(i.a)(t,[{key:"handleShortHandChange",value:function(e){this.setState({shortHand:e.target.value})}},{key:"handleCourseNameChage",value:function(e){this.setState({courseName:e.target.value})}},{key:"render",value:function(){var e=this;return this.state.editmode?r.a.createElement("h3",null,r.a.createElement("input",{type:"text",value:this.state.shortHand,onChange:function(t){return e.handleShortHandChange(t)}})," -",r.a.createElement("input",{type:"text",value:this.state.courseName,onChange:function(t){return e.handleCourseNameChage(t)}}),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphOkClick(t)}},r.a.createElement(O.a,{glyph:"ok"})),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphClick(t)}},r.a.createElement(O.a,{glyph:"remove"}))):r.a.createElement("h3",null,r.a.createElement("span",null,this.props.shortHand)," - ",r.a.createElement("span",null,this.props.courseName," "),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphClick(t)}},r.a.createElement(O.a,{glyph:"pencil"})))}}]),t}(a.Component),ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={editmode:!1,text:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleGlyphClick",value:function(e){var t=!this.state.editmode;this.setState({editmode:t,text:this.props.text})}},{key:"handleGlyphOkClick",value:function(e){this.props.newInput(this.state.text),this.setState({editmode:!1})}}]),Object(i.a)(t,[{key:"handleTextChage",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){var e=this;return this.state.editmode?r.a.createElement("span",null,r.a.createElement("input",{type:"text",value:this.state.text,onChange:function(t){return e.handleTextChage(t)}}),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphOkClick(t)}},r.a.createElement(O.a,{glyph:"ok"})),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphClick(t)}},r.a.createElement(O.a,{glyph:"remove"}))):r.a.createElement("span",null,r.a.createElement("span",null,this.props.text," "),r.a.createElement("div",{style:Be.a,onClick:function(t){e.handleGlyphClick(t)}},r.a.createElement(O.a,{glyph:"pencil"})))}}]),t}(a.Component),Ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlesheetBoxChange=function(e){n.setState({sheetBox:e.target.value})},n.handleUsesGoogleSheet=function(e){n.props.usesGoogleSheet(e)},n.handleCSVChange=function(e){n.setState({csv:e.target.value})},n.handleCSVSubmit=function(e){e.preventDefault(),n.props.newUserCSVSubmitted(n.state.csv),n.setState({csv:""})},n.newShortAndTitle=function(e,t){console.log("got new short and title:"),console.log(e+t),n.props.newShortAndTitle(e,t)},n.newGoogleSheetId=function(e){n.props.newGoogleSheetId(e)},n.state={csv:"",sheetBox:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"generateUsertableBody",value:function(){var e=this;return null==this.props.users?r.a.createElement("tr",null):this.props.users.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.userName),r.a.createElement("td",null,t.firstName," ",t.lastName),r.a.createElement("td",null,t.email),r.a.createElement("td",null,r.a.createElement(_,{checked:t.admin,id:t.id,onCheck:function(t,n){return e.props.roleChecked(n,"admin",t)}})),r.a.createElement("td",null,r.a.createElement(_,{checked:t.ta,id:t.id,onCheck:function(t,n){return e.props.roleChecked(n,"ta",t)}})),r.a.createElement("td",null,r.a.createElement(_,{checked:t.student,id:t.id,onCheck:function(t,n){return e.props.roleChecked(n,"student",t)}})))}))}},{key:"render",value:function(){var e=this;if("failed"===this.loading)return r.a.createElement("div",null,"Load failed");var t="Indtast Kursus ID";this.props.course&&null!==this.props.course.courseShortHand&&(t=this.props.course.courseShortHand);var n="";this.props.course&&(n=this.props.course.courseName);var a=!1;this.props.course&&(a="GoogleSheet"===this.props.course.coursePlanSource);var o="";return this.props.course&&(o=this.props.course.googleSheetPlanId),console.log(this.props.syncing),console.log(this.props.syncError),r.a.createElement("div",null,r.a.createElement(ke,{shortHand:t,courseName:n,newInput:this.newShortAndTitle}),r.a.createElement(re.a,{header:r.a.createElement("h3",null,"Kursusplan"),className:"panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement(v.a,{inline:!0},r.a.createElement(k.a,null,r.a.createElement(C.a,null,"Google Sheet Id: "),r.a.createElement(ye,{text:o,newInput:function(t){return e.newGoogleSheetId(t)}}),r.a.createElement("br",null),o&&r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/"+o+"/edit"},"https://docs.google.com/spreadsheets/d/"+o+"/edit")),r.a.createElement("br",null),"Anvend googleSheet til KursusPlan: ",r.a.createElement(_,{onCheck:this.handleUsesGoogleSheet,checked:a})),r.a.createElement(S.a,{onClick:function(){return e.props.syncCoursePlan()},disabled:this.props.syncing},this.props.syncing?r.a.createElement("span",null,"Synkroniserer kursusplan"):r.a.createElement("span",null,"Synkronis\xe9r Kursusplan")),this.props.syncing&&r.a.createElement("img",{src:G.a,alt:"loading"}),this.props.syncError&&r.a.createElement("div",null,this.props.syncError))),r.a.createElement(re.a,{header:r.a.createElement("h3",null,"Administer brugere"),className:"panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement(I.a,{responsive:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Brugernavn"),r.a.createElement("th",null,"Navn"),r.a.createElement("th",null,"E-mail"),r.a.createElement("th",null,"Administrator"),r.a.createElement("th",null,"Hj\xe6lpel\xe6rer"),r.a.createElement("th",null,"Studerende"))),r.a.createElement("tbody",null,this.generateUsertableBody())),r.a.createElement("div",{className:"panel-title"},r.a.createElement("b",null,"Tilf\xf8j nye brugere til kurset")),r.a.createElement(v.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,this.props.label),r.a.createElement(b.a,{value:this.state.csv,label:"Tilf\xf8j brugere",type:"textarea",componentClass:"textarea",rows:"4",onChange:this.handleCSVChange}),r.a.createElement(ve.a,null,"Skriv brugernavne for de nye brugere kommasepareret. Brug evt. CSV-fil eksporteret fra deltagerlisten p\xe5 CampusNet.")),r.a.createElement(S.a,{onClick:this.handleCSVSubmit},"Tilf\xf8j brugere")))),r.a.createElement(re.a,{header:r.a.createElement("h3",null,"Fremm\xf8de")},r.a.createElement(I.a,{responsive:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Brugernavn"),r.a.createElement("th",null,"Navn"),r.a.createElement("th",{className:"rotate"},r.a.createElement("div",null,r.a.createElement("span",null,"Lektion 1"))),r.a.createElement("th",{className:"rotate"},r.a.createElement("div",null,r.a.createElement("span",null,"Lektion 2"))),r.a.createElement("th",{className:"rotate"},r.a.createElement("div",null,r.a.createElement("span",null,"Lektion 3"))))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"s134000"),r.a.createElement("td",null,"Christian Budtz"),r.a.createElement("td",{width:"20px"},r.a.createElement("input",{id:"lek1",type:"checkbox",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"lek1"}," ")),r.a.createElement("td",{width:"20px"},r.a.createElement("input",{id:"lek2",type:"checkbox",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"lek2"}," ")),r.a.createElement("td",{width:"20px"},r.a.createElement("input",{id:"lek3",type:"checkbox",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"lek3"}," ")))))))}}]),t}(a.Component);Ce.defaultProps={course:{}};var be=n(22),Se=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).courseCallBack=function(e){var t;if(null==n.state.currentCourse)n.setState({courseList:e,currentCourse:e[0]});else{var a=n.state.currentCourse.id;t=e[0],e.forEach((function(e,n){e.id===a&&(t=e)})),n.setState({courseList:e,currentCourse:t,syncError:!1})}n.fetchUserList(n.state.currentCourse.id)},n.courseCatchBack=function(e){n.setState({loading:"failed"})},n.courseSelected=function(e){var t=n.state.courseList.filter((function(t){return t.id===e}));n.fetchUserList(e),n.setState({currentCourse:t[0]})},n.fetchUserList=function(e){n.setState({loading:!0}),Ee.getJson(n.props.apiUrl+n.props.coursePath+"/"+e+"/users/list",(function(e){n.setState({users:e,loading:"done"})}),null)},n.newCourseSelected=function(){n.setState({loading:!0}),Ee.post(n.props.apiUrl+n.props.coursePath,null,(function(e){var t=n.state.courseList;t.push(e),n.setState({loading:"done",courseList:t})}),(function(e){n.setState({loading:"failed"}),console.log(e)}))},n.updateCourseUsesGoogleSheet=function(e){var t={usesGoogleSheet:e};Ee.postForString(n.currentCourseUrl()+"/usesGoogleSheet",t,(function(e){n.getCourses()}))},n.newGoogleSheetId=function(e){var t={googleSheetId:e};Ee.postForString(n.currentCourseUrl()+"/googleSheetId",t,(function(e){n.getCourses()}))},n.syncCourseCurrentCoursePlan=function(){n.setState({syncing:!0}),Ee.postForString(n.currentCourseUrl()+"/syncCoursePlan",null,(function(e){500===e.status?(e.text().then((function(e){n.setState({syncError:e})})),n.setState({syncError:e.text,syncing:!1})):(n.getCourses(),n.setState({syncError:!1,syncing:!1}))}),(function(e){e.response.text().then((function(e){n.setState({syncError:e,syncing:!1})}))}))},n.checkForCourseAdmin=function(){var e=!1;return n.props.user&&n.props.user.roles&&n.props.user.roles.forEach((function(t){"CourseAdmin"===t.roleName&&(e=!0)})),e},n.getCourses(),n.state={loading:!0,courseList:[],currentCourse:n.props.course},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getCourses",value:function(){Ee.getJson(this.props.apiUrl+this.props.coursePath+"/owned",this.courseCallBack,this.courseCatchBack)}},{key:"handleRoleCheck",value:function(e,t,n){var a=this;Ee.put(this.props.apiUrl+this.props.coursePath+"/"+this.state.currentCourse.id+"/users/"+e+"/"+t,n,(function(e){a.fetchUserList(a.state.currentCourse.id)}),null)}},{key:"addUserToCourse",value:function(e,t,n){var a=this;console.log(e),be.toast.success("Bruger "+e+" tilf\xf8jet",{autoClose:8e3});var r={userName:e,name:t,email:n,role:"student"};Ee.postForString(this.currentCourseUrl()+"/users/",r,(function(e){a.fetchUserList(a.state.currentCourse.id)}),null)}},{key:"currentCourseUrl",value:function(){return this.props.apiUrl+this.props.coursePath+"/"+this.state.currentCourse.id}},{key:"addUserCSVToCourse",value:function(e){var t=this,n={usersCsv:e};this.toastLoading=Object(be.toast)("Tilf\xf8jer brugere...",{autoClose:!1}),Ee.postForString(this.currentCourseUrl()+"/users/csv",n,(function(e){be.toast.dismiss(t.toastLoading),be.toast.success("Brugere tilf\xf8jet",{autoClose:5e3}),t.fetchUserList(t.state.currentCourse.id)}))}},{key:"updateCourseShortAndName",value:function(e,t){var n=this,a={shortHand:e,courseName:t};Ee.postForString(this.currentCourseUrl()+"/name",a,(function(e){n.getCourses()}),(function(e){e.response.text().then((function(t){be.toast.warn(e.status+": "+t)}))}))}},{key:"render",value:function(){var e=this,t=this.checkForCourseAdmin();return console.log("User is course admin: "+t),r.a.createElement(P.a,{fluid:!0},r.a.createElement(U.a,null,r.a.createElement(y.a,{md:3},r.a.createElement(fe,{createCourses:t,loading:this.state.loading,courseClicked:this.courseSelected,newCourseClicked:this.newCourseSelected,courseList:this.state.courseList})),r.a.createElement(y.a,{md:9},r.a.createElement(Ce,{course:this.state.currentCourse,users:this.state.users,loading:this.state.loading,newUserAdded:function(t,n,a){return e.addUserToCourse(t,n,a)},newUserCSVSubmitted:function(t){return e.addUserCSVToCourse(t)},newShortAndTitle:function(t,n){return e.updateCourseShortAndName(t,n)},usesGoogleSheet:function(t){return e.updateCourseUsesGoogleSheet(t)},newGoogleSheetId:function(t){return e.newGoogleSheetId(t)},roleChecked:function(t,n,a){return e.handleRoleCheck(t,n,a)},syncError:this.state.syncError,syncCoursePlan:function(){return e.syncCourseCurrentCoursePlan()},syncing:this.state.syncing}))))}}]),t}(a.Component);Se.defaultProps={apiUrl:"",coursePath:"/courses"};var Oe=n(36),Ae=(n(186),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).userUrl=n.props.apiUrl+"/users",n.getUsers=function(){Ee.getJson(n.userUrl,(function(e){e.forEach((function(e){return n.checkUserRoles(e)})),n.setState({users:e})}))},n.checkUserRoles=function(e){return e.isPortalAdmin=!1,e.isCourseAdmin=!1,e.roles&&e.roles.forEach((function(t){"PortalAdmin"===t.roleName&&(e.isPortalAdmin=!0),"CourseAdmin"===t.roleName&&(e.isCourseAdmin=!0)})),e},n.toggleCourseAdmin=function(e,t){var a=n.userUrl+"/"+t+(e?"/makeCourseAdmin":"/removeCourseAdmin");Ee.post(a,{},(function(e){console.log(e),n.updateUser(e)}),(function(e){be.toast.warning("Opdatering mislykkedes:"+e.message)}))},n.togglePortalAdmin=function(e,t){var a=n.userUrl+"/"+t+(e?"/makePortalAdmin":"/removePortalAdmin");Ee.post(a,{},(function(e){console.log(e),be.toast.info("Updated user"),n.updateUser(e)}),(function(e){console.log(e)}))},n.updateUser=function(e){e=n.checkUserRoles(e);var t=n.state.users;t.forEach((function(t,n,a){t.id===e.id&&(a[n]=e)})),n.setState({users:t})},n.checkBoxFormatterPortalAdmin=function(e,t){return r.a.createElement(_,{checked:t.isPortalAdmin,onCheck:n.togglePortalAdmin,id:t.id})},n.checkBoxFormatterCourseAdmin=function(e,t){return r.a.createElement(_,{checked:t.isCourseAdmin,onCheck:n.toggleCourseAdmin,id:t.id})},n.booleanSortPortalAdmin=function(e,t,n){var a=e.isPortalAdmin?1:0;return a-=t.isPortalAdmin?1:0,"desc"===n?-a:a},n.booleanSortCourseAdmin=function(e,t,n){var a=e.isCourseAdmin?1:0;return a-=t.isCourseAdmin?1:0,"desc"===n?-a:a},n.getUsers(),n.state={users:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(be.ToastContainer,{position:"bottom-right",autoClose:2e3}),r.a.createElement(U.a,null,r.a.createElement(y.a,null,r.a.createElement(Oe.BootstrapTable,{data:this.state.users,pagination:!0,options:{paginationPosition:"top",sizePerPageList:[{text:"10",value:10},{text:"100",value:100},{text:"All",value:this.state.users.length}]}},r.a.createElement(Oe.TableHeaderColumn,{dataField:"id",key:0,isKey:!0,hidden:!0},"Id"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"userName",key:1,dataSort:!0},"BrugerNavn"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"firstName",key:1,dataSort:!0},"Fornavn"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"lastName",key:1,dataSort:!0},"Efternavn"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"email",key:1,dataSort:!0},"Email"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"isPortalAdmin",key:1,dataFormat:this.checkBoxFormatterPortalAdmin,dataSort:!0,sortFunc:this.booleanSortPortalAdmin},"PortalAdmin"),r.a.createElement(Oe.TableHeaderColumn,{dataField:"isCourseAdmin",key:1,dataFormat:this.checkBoxFormatterCourseAdmin,dataSort:!0,sortFunc:this.booleanSortCourseAdmin},"CourseAdmin")))))}}]),t}(a.Component)),je=n(489),we=n(195),Ne=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this))).deletedb=function(){window.confirm("Er du sikker p\xe5 at du vil slette din database?!! Alle data vil g\xe5 tabt")&&n.props.store.deletedb()},n.createDB=function(){n.props.store.createDB()},n.updatePass=function(){n.props.store.updatePass()},n.updateUserBtnPressed=function(){var e=n.props.user;e.firstName=n.state.firstName,e.lastName=n.state.lastName,e.email=n.state.email,n.props.updateUser(e)},n.resetForm=function(){n.setState({firstName:n.props.user.firstName,lastName:n.props.user.lastName,email:n.props.user.email})},n.state={firstName:e.user.firstName,lastName:e.user.lastName,email:e.user.email},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.dbInfo;return r.a.createElement(P.a,null,r.a.createElement(U.a,null,r.a.createElement(y.a,{xsOffset:3,xs:6,className:"text-center"},r.a.createElement(v.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,"Fornavn"),r.a.createElement(b.a,{type:"text",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})}})),r.a.createElement(k.a,null,r.a.createElement(C.a,null,"Efternavn"),r.a.createElement(b.a,{type:"text",value:this.state.lastName,onChange:function(t){return e.setState({lastName:t.target.value})}})),r.a.createElement(k.a,null,r.a.createElement(C.a,null,"Email"),r.a.createElement(b.a,{type:"text",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}))),r.a.createElement(S.a,{onClick:this.updateUserBtnPressed},"Opdater Bruger"),r.a.createElement(S.a,{onClick:this.resetForm},"Reset"),r.a.createElement("h4",null,"Din personlige Database"),!this.props.store.loading&&t.id&&r.a.createElement("div",null,r.a.createElement(je.a,null,"Host"),r.a.createElement("div",null,t.hostUrl),r.a.createElement(je.a,null,"BrugerNavn"),r.a.createElement("div",null,t.id),r.a.createElement(je.a,null,"Kodeord"),r.a.createElement("div",null,t.pass),r.a.createElement(je.a,null,"Database navn"),r.a.createElement("div",null,t.id),r.a.createElement(je.a,null,"Skriverettigheder"),r.a.createElement("div",null,t.revoked?"Nej - reducer din database st\xf8rrelse til under 50 MB":"Ja - Maks database st\xf8rrelse er 50 MB"),r.a.createElement(je.a,null,"Databasest\xf8rrelse"),r.a.createElement("div",null,t.size," MB"),r.a.createElement(S.a,{onClick:this.updatePass},"Nyt kodeord"),r.a.createElement(S.a,{bsStyle:"danger",onClick:this.deletedb},"Slet din database")),!this.props.store.loading&&!t.id&&r.a.createElement("div",null,r.a.createElement(S.a,{onClick:this.createDB},"Opret ny database")),this.props.store.loading&&r.a.createElement("div",null,"Opdaterer database..."))))}}]),t}(a.Component),xe=Object(we.a)(Ne),Le=(n(471),function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).generateAdminDropDown=function(e){var t=!1;e.roles.forEach((function(e){"PortalAdmin"===e.roleName&&(t=!0)}));var n=!1;if(e.roles.forEach((function(e){"CourseAdmin"===e.roleName&&(n=!0)})),e.adminOfCourses&&(n=!0),n||t){var a={type:"NavDropDown",id:10,text:"Admin",items:[]};return n&&a.items.push({type:"MenuItem",id:{component:"CourseAdmin"},text:"Course Admin"}),t&&a.items.push({type:"MenuItem",id:{component:"PortalAdmin"},text:"Portal Admin"}),a}return{}},n.userUpdate=function(e){Ee.post(n.props.apiUrl+"/users/self",e,(function(e){n.setState({user:e})}))},n.updateLinks=function(e){var t=n.state.course;t.courseLinks=e,n.setState({course:t}),Ee.put(n.props.apiUrl+"/courses/"+n.state.course.id+"/links",e,(function(e){n.setState({course:e}),be.toast.info("links opdateret")}),(function(e){be.toast.warning("links kunne ikke opdateres -"+e.message)}))},n.saveInfoContent=function(e){var t=n.state.course;t.courseInfoLines=e,n.setState({course:t}),Ee.put(n.props.apiUrl+"/courses/"+n.state.course.id+"/courseinfo",e,(function(e){be.toast.info("Kursusindhold opdateret")}),(function(e){be.toast.warning("Kursusindhold kunne ikke opdateres. "+e.message)}))},n.generateAgendaDropDown=function(e,t){var n={type:"NavDropDown"};if(e&&null==t&&console.log("setting active agenda"),e&&t&&e[t])for(var a in n.id=t,n.text=e[t].courseName,console.log(e),n.items=[],e)n.items.push({type:"MenuItem",id:{component:"Agenda",id:a,agendaId:e[a].agendaId},text:e[a].courseName});else n.text="Du er ikke tilknyttet kurser",n.items=[];return console.log(n),n},n.onMenuSelect=function(e){if(e.id){var t=n.state.user,a=[n.generateAgendaDropDown(n.state.user.agendaInfoMap,e.id),{type:"NavItem",id:{component:"Agenda"},text:"Agenda"},{type:"NavItem",id:{component:"CourseInfo"},text:"Kursus information"},n.generateAdminDropDown(n.state.user)];t.activeAgenda=e.id,Ee.postForString(n.props.apiUrl+"/users/self",t,(function(e){})),n.setState({user:t,navbar:a,activePage:{component:"Agenda"}}),n.fetchCourse(e.id,e.agendaId)}else n.setState({activePage:e})},n.onProfileEditSelect=function(){n.setState({activePage:{component:"ProfilePage"}})},n.fetchCourse=function(e,t){Ee.getJson(n.props.apiUrl+"/courses/"+e,(function(e){e.admins&&e.admins.includes(n.state.user.id)&&(console.log("user is courseAdmin"),console.log("test")),n.setState({course:e}),n.fetchCoursePlan(e.courseplanId,t)}))},n.fetchCoursePlan=function(e,t){console.log("Fethcing coursePlan: "+e),n.setState({coursePlanLoading:!0}),null===e&&(n.setState({coursePlanLoading:"failed"}),be.toast.error("Dette Kursus har ikke tilknyttet en kursusplan endnu")),Ee.getJson(n.props.apiUrl+"/courseplans/"+e,(function(e){e.get&&console.log("FoundCoursePlan: "),n.setState({coursePlan:e,coursePlanLoading:!1}),n.fetchAgenda(t)}),(function(e){404!==e.status&&400!==e.status||e.text().then((function(e){n.setState({coursePlan:null,coursePlanLoading:"failed",coursePlanLoadErrorMsg:e})})),console.log(e)}))},n.fetchAgenda=function(e){Ee.getJson(n.props.apiUrl+"/agendas/"+e,(function(e){console.log("Found Agenda:"),console.log(e),n.setState({agenda:e}),n.mergeAgendaWithCoursePlan()}))},n.mergeAgendaWithCoursePlan=function(){var e=n.state.coursePlan;e.courseActivityList.forEach((function(e,t,a){n.mergeAgendaWithCourseActivity(e.activityElementList)})),n.setState({coursePlan:e})},n.mergeAgendaWithCourseActivity=function(e){e.forEach((function(e,t,a){n.mergeAgendaWithAcvitityElement(e)}))},n.onLogout=function(e){console.log("Logging out"),de.clearUser(),n.setState({user:null,avatar:{id:null},navbar:[{type:"NavItem",id:-1,text:"Please Login"}],activePage:{component:"Login"}})},n.getComponent=function(){var e=n.state.activePage.component;return"Agenda"===e?r.a.createElement(ue,{course:n.state.course,coursePlan:n.state.coursePlan,coursePlanLoading:n.state.coursePlanLoading,apiUrl:n.props.apiUrl,handleActivityClick:n.handleActivityClick,handleSubElementCheck:n.handleSubElementCheck,handleSubElementNotes:n.handleSubElementNotes,activitySubElements:n.state.activitySubElements,activeActivityElement:n.state.activeActivityElement,activeActivityElementId:n.state.activeActivityElementId,showModal:n.state.showModal,hideModal:n.hideModal}):"CourseInfo"===e?r.a.createElement(he,{user:n.state.user,content:n.state.course.courseInfoLines,course:n.state.course,apiUrl:n.props.apiUrl,saveContent:n.saveInfoContent}):"Syllabus"===e?r.a.createElement(pe,{course:n.state.course,apiUrl:n.props.apiUrl}):"Forum"===e?r.a.createElement(ge,{course:n.state.course,apiUrl:n.props.apiUrl}):"CourseAdmin"===e?r.a.createElement(Se,{user:n.state.user,course:n.state.course,apiUrl:n.props.apiUrl}):"PortalAdmin"===e?r.a.createElement(Ae,{course:n.state.course,apiUrl:n.props.apiUrl}):"ProfilePage"===e?r.a.createElement(xe,{store:n.props.stores.ProfileStore,user:n.state.user,updateUser:function(e){return n.userUpdate(e)}}):r.a.createElement(me,{course:n.state.course,apiUrl:n.props.apiUrl})},n.handleActivityClick=function(e,t){console.log("Got activityCLick: "),console.log(t),"GoogleSheet"===t.activityElementType?n.setState({activitySubElements:t.subElements,activeActivityElement:t.title,activeActivityElementId:t.id,showModal:!0,activeActivityId:e.id}):window.open(t.hyperLink)},n.handleSubElementCheck=function(e,t,a,r){var o=n.state.agenda;o.elementMetaData&&(n.ensureTree(o,a,r),console.log(o),o.elementMetaData[a].metaDataList[r].checked=e,o.elementMetaData[a].metaDataList[r].progression=e?1:0),n.setState({agenda:o}),Ee.postForString(n.props.apiUrl+"/agendas",n.state.agenda,(function(e){})),n.mergeAgendaWithCoursePlan()},n.handleSubElementNotes=function(e,t,a,r){var o=n.state.agenda;o.elementMetaData&&(n.ensureTree(o,a,r),console.log("Setting notes: "+a+" , "+r),o.elementMetaData[a].metaDataList[r].notes=e),n.setState({agenda:o}),Ee.postForString(n.props.apiUrl+"/agendas",n.state.agenda,(function(e){console.log("everything is awesome again!!")})),n.mergeAgendaWithCoursePlan()},n.ensureTree=function(e,t,n){null==e.elementMetaData[t]&&(e.elementMetaData[t]={}),null==e.elementMetaData[t].metaDataList&&(e.elementMetaData[t].metaDataList={}),null==e.elementMetaData[t].metaDataList[n]&&(e.elementMetaData[t].metaDataList[n]={})},n.hideModal=function(){n.setState({showModal:!1})},console.log();var a=de.getUser();return console.log("user passed to App:"),console.log(a),a?(console.log("User Found"),e.stores.TokenStore.setToken(de.getToken()),n.fetchUser(a.id),n.state={user:a,navbar:[{type:"NavItem",id:-2,text:"Loading"}],avatar:{id:a.userName},activePage:{component:"Login"},showModal:!1}):n.state={user:null,navbar:[],avatar:{id:null},pages:{0:{period:"F17",course:"02324",component:"Agenda"},1:{period:"F17",course:"02324",component:""}},activePage:{component:"Login"},course:{courseLines:[],courseId:"02324F17",courseName:"Videreg\xe5ende programmering",coursePlanId:"1Zj-1eLX67PQRzM7m1icq2vSXzbHn2iFvN4V9cUHTWQo",coursePlanSource:"GoogleSheet",courseLinks:[]}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(e){var t=this;Ee.getJson(this.props.apiUrl+"/users/self",(function(e){console.log("got user data"),console.log(e),e.agendaInfoMap&&!e.activeAgenda&&(e.activeAgenda=Object.keys(e.agendaInfoMap)[0]),console.log("generating agenda dropdown");var n=t.generateAgendaDropDown(e.agendaInfoMap,e.activeAgenda);console.log("generated agenda dropdown");var a=t.generateAdminDropDown(e);console.log("generated admin dropdown"),t.setState({user:e,navbar:[n,{type:"NavItem",id:{component:"Agenda"},text:"Agenda"},{type:"NavItem",id:{component:"CourseInfo"},text:"Kursus information"},a],avatar:{id:e.userName},pages:{0:{period:"F17",course:"02324",component:"Agenda"},1:{period:"F17",course:"02324",component:""}},activePage:{period:"F17",course:"02324",component:"Agenda"},course:{courseLines:[],courseId:"Loading course",courseName:"",coursePlanId:"",coursePlanSource:""}}),t.fetchCourse(t.state.user.activeAgenda,t.state.user.agendaInfoMap[t.state.user.activeAgenda].agendaId)}),(function(e){console.log(e)}))}},{key:"mergeAgendaWithAcvitityElement",value:function(e){var t=this,n=0;e.subElements.forEach((function(a,r,o){if(t.state.agenda.elementMetaData[e.id]){var s=t.state.agenda.elementMetaData[e.id];s.metaDataList[a.id]&&(a.checked=s.metaDataList[a.id].checked,a.progression=s.metaDataList[a.id].progression,a.notes=s.metaDataList[a.id].notes,!0===a.checked&&n++)}})),e.progress=n/e.subElements.length}},{key:"render",value:function(){return console.log("main state:"),console.log(this.state),r.a.createElement("div",{className:"App"},r.a.createElement(w,{apiUrl:this.props.apiUrl,menuItems:this.state.navbar,avatar:this.state.avatar,activeId:this.state.activePage,onSelect:this.onMenuSelect,onLogout:this.onLogout,onProfileEdit:this.onProfileEditSelect,onLinksUpdated:this.updateLinks,user:this.state.user,course:this.state.course,links:this.state.course?this.state.course.courseLinks:[]}),this.getComponent(),r.a.createElement(be.ToastContainer,{position:"bottom-right",autoClose:2e3}))}}]),t}(a.Component));Le.defaultProps={apiUrl:""};n(472);var Pe=n(16),Ue=function(){function e(){var t=this;Object(l.a)(this,e),this.token=window.localStorage.getItem("jwt"),this.checkUserHasOneOfRoles=function(e){var n=!1;return t.token&&t.getClaims().user&&t.getClaims().user.roles&&e.forEach((function(e){t.getClaims().user.roles.forEach((function(t){e===t.roleName&&(n=!0)}))})),n},this.getClaims=function(){return t.decodeClaims(t.token)},this.decodeClaims=function(e){if(!e)return null;var t=e.split(".")[1],n=decodeURIComponent(escape(window.atob(t)));return JSON.parse(n)},Object(Pe.n)((function(){return t.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")})),this.startAutoCheck()}return Object(i.a)(e,[{key:"setToken",value:function(e){this.token=e,this.startAutoCheck()}},{key:"logout",value:function(e){this.token=null,clearTimeout(this.timer),e&&be.toast.warn("Dit login er udl\xf8bet. Log venligst ind igen")}},{key:"startAutoCheck",value:function(){var e=this;if(this.token){var t=new Date(1e3*this.getClaims().exp)-new Date-1e4;this.timer=setTimeout((function(){return e.logout(!0)}),t)}}},{key:"user",get:function(){return this.token?this.decodeClaims(this.token).user:null}},{key:"sampleViewer",get:function(){return this.checkUserHasOneOfRoles(["L\xe6sepr\xf8ve","Administrator"])}},{key:"fullViewer",get:function(){return this.checkUserHasOneOfRoles(["Fuldtekst","Administrator"])}},{key:"admin",get:function(){return this.checkUserHasOneOfRoles(["Administrator"])}}]),e}();Object(Pe.h)(Ue,{token:Pe.m,setToken:Pe.d,user:Pe.e,sampleViewer:Pe.e,fullViewer:Pe.e,admin:Pe.e,logout:Pe.d,updateSelf:Pe.d});var Ie=Ue,Te=function e(t){var n=this;Object(l.a)(this,e),this.user=null,this.dbInfo={id:null,pass:null,revoked:null,hostUrl:""},this.tokenStore={user:""},this.apiUrL="",this.loading="false",this.createDB=function(){n.tokenStore.user&&(console.log("Creating own db"),n.loading=!0,Ee.createOwnDb(n.apiUrL,n.tokenStore.user.userName,(function(e){n.dbInfo=e,n.loading=!1}),(function(){n.loading=!1,n.fetchDb()})))},this.updatePass=function(){n.loading=!0,Ee.updateOwnPass(n.apiUrL,n.tokenStore.user.userName,(function(e){n.dbInfo=e,n.loading=!1}),(function(){n.loading=!1,n.fetchDb()}))},this.fetchDb=function(){n.loading=!0,n.tokenStore.user&&(console.log("Fetching Own DB"),Ee.getOwnDb(n.apiUrL,n.tokenStore.user.userName,(function(e){n.dbInfo=e,n.loading=!1}),(function(){n.dbInfo={},n.loading=!1})))},this.deletedb=function(){n.tokenStore.user&&(console.log("Deleting own DB"),n.loading=!0,Ee.deleteOwnDb(n.apiUrL,n.tokenStore.user.userName,(function(){n.loading=!1,n.fetchDb()}),(function(){n.loading=!1,n.fetchDb()})))},this.apiUrL=t,this.fetchDb(),Object(Pe.n)((function(){return n.tokenStore.user}),this.fetchDb)};Object(Pe.h)(Te,{user:Pe.m,dbInfo:Pe.m,tokenStore:Pe.m,loading:Pe.m,createDb:Pe.d,fetchDb:Pe.d,deletedb:Pe.d});var De=Te;n.d(t,"styles",(function(){return Be}));var Be={a:{cursor:"pointer",color:"#337ab7"}},Me=function(e,t){t||(t=window.location.href);var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("token");console.log(Me),null!=Me&&Me.length>0&&(localStorage.setItem("portal-jwt-Token",Me),window.location.replace("/"));var Fe=A.ApiPath?A.ApiPath+"/rest":"/rest",He={TokenStore:new Ie,ProfileStore:new De(Fe)};He.ProfileStore.tokenStore=He.TokenStore,s.a.render(r.a.createElement(Le,{stores:He,apiUrl:Fe,name:"DiplomPortal"}),document.getElementById("root"))},49:function(e,t,n){e.exports=n.p+"static/media/ripple.ddb71c78.svg"}},[[196,1,2]]]);
//# sourceMappingURL=main.eb9d34a1.chunk.js.map